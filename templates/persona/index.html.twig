{% extends 'base.html.twig' %}

{% block title %}Lista de solicitantes{% endblock %}

{% block body %}
    <h1>Lista de solicitantes</h1>
    <p><a href="{{ path('persona_new') }}" class="btn btn-primary"><i class="fas fa-plus"></i> Agregar solicitante</a></p>
    <table  id="solicitantes" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Id</th>
                <th>DNI</th>
                <th>Nombre</th>
                <th>Apellidos</th>
                <th>Telefono</th>
                <th>Fecha nacimiento</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for persona in personas %}
            <tr>
                <td>{{ persona.id }}</td>
                <td>{{ persona.dni }}</td>
                <td>{{ persona.nombre }}</td>
                <td>{{ persona.apellidos }}</td>
                <td>{{ persona.telefono }}</td>
                <td>{{ persona.fechaNacimiento ? persona.fechaNacimiento|date('Y-m-d') : '' }}</td>
                <td>
                    <a href="{{ path('persona_show', {'id': persona.id}) }}" class="btn btn-info btn-sm">Ver</a>
                    <a href="{{ path('persona_edit', {'id': persona.id}) }}" class="btn btn-warning btn-sm">Editar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">No hay registros</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function() {
            $('#solicitantes').DataTable();
        });
    </script>
{% endblock %}
