{# templates/convocatoria/show.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Convocatoria{% endblock %}

{% block body %}

    <h1><i class="fas fa-bullhorn"></i> Convocatoria: {{ convocatoria.nombre }}</h1>

    <table class="table table-striped">
        <tbody>
            <tr>
                <th>ID</th>
                <td>{{ convocatoria.id }}</td>
                <th>Nombre</th>
                <td>{{ convocatoria.nombre }}</td>
            </tr>
            <tr>
                <th>Fecha inicio solicitudes</th>
                <td>{{ convocatoria.fechaInicioSolicitud|date('Y-m-d') }}</td>
                <th>Fecha fin solicitudes</th>
                <td>{{ convocatoria.fechaFinSolicitud|date('Y-m-d') }}</td>
            </tr>
        </tbody>
    </table>

    <h2>Solicitudes</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
				<th>Solicitante</th>
                <th>Fecha Entrada</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for solicitud in convocatoria.solicitudes %}
                <tr>
                    <td>{{ solicitud.id }}</td>
					<td>{{ solicitud.persona.nombre}} {{ solicitud.persona.apellidos}}</td>
                    <td>{{ solicitud.fechaEntrada|date('Y-m-d') }}</td>
                    <td>
                        <a href="{{ path('solicitud_show', {'id': solicitud.id}) }}" class="btn btn-info btn-sm"><i class="fas fa-search"></i> Ver</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="btn-group">
        <a href="{{ path('convocatoria_index') }}" class="btn btn-secondary">Lista convocatorias</a>
        <a href="{{ path('convocatoria_edit', {'id': convocatoria.id}) }}" class="btn btn-warning">Editar convocatoria</a>
    </div>
{% endblock %}